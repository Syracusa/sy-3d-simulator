<!DOCTYPE html>
<html lang="en">

<head>
	<title>test</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link rel="stylesheet" href="main.css">
</head>

<body>
	<script type="importmap">
		{
			"imports": {
			"three": "https://unpkg.com/three/build/three.module.js",
			"dat.gui": "./node_modules/dat.gui/build/dat.gui.module.js"
		}
		}
		</script>

	<div class="container">
		<div id="info"></div>
		<div id="three_scene">


		</div>
	</div>
	<script id="vertexShader" type="x-shader/x-vertex">
		out vec4 vertexColor;
		
        void main()	{
			vec3 vNormal = normalize(normalMatrix * normal);
			vec3 sun = vec3(1.0, 2.0, 1.0);
			vec3 nsun = normalize(sun);

			float dProd = dot(vNormal, nsun);
            gl_Position =  projectionMatrix * modelViewMatrix *  vec4(position, 1.0 );

			if (dProd < 0.0){
				dProd = 0.0;
			}

			vertexColor = vec4(dProd / 2.0,  (position.y / 20.0),  (position.y / 20.0), 1.0); 
		}
    </script>

	<script id="fragmentShader" type="x-shader/x-fragment">
		in vec4 vertexColor;

        void main()	{
			gl_FragColor = vertexColor;
		}
    </script>
	<script src="./index.js" type="module"></script>

</body>

</html>